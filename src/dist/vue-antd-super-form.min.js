var VueAntdSuperForm=function(e,t){"use strict";var r=["click","change","blur","focus","hoverChange","keyDown","select","ok","pressEnter"];var a={input:t.Input,inputnumber:t.InputNumber,textarea:t.Input.TextArea,password:t.Input.Password,cascader:t.Cascader,autocomplete:t.AutoComplete,rate:t.Rate,slider:t.Slider,switch:t.Switch,datepicker:t.DatePicker,rangepicker:t.DatePicker.RangePicker,monthpicker:t.DatePicker.MonthPicker,weekpicker:t.DatePicker.WeekPicker,timepicker:t.TimePicker,button:t.Button,select:t.Select,radio:t.Radio.Group,radiogroup:t.Radio.Group,radiobutton:t.Radio,checkbox:t.Checkbox.Group,checkboxgroup:t.Checkbox.Group,steps:t.Steps,upload:t.Upload,uploaddragger:t.Upload.Dragger},n=Object.prototype.toString,o=function(e){var t={},r={},a=Object.assign({},e);return Object.keys(a).forEach(function(e){var t=a[e];"[object Undefined]"!==n.call(t)&&""!==t&&("[object String]"==n.call(t)?""!==(t=t.trim())&&(r[e]=t):r[e]=t)}),Object.keys(r).map(function(e){e.includes(",")||(t[e]=r[e])}),t},i=function(e){if("[object Object]"===n.call(e))return Object.keys(e).map(function(t){return{label:e[t],value:t}});if("[object Array]"===n.call(e))return e;throw new Error("need obj or array")};function s(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}function c(e,t,n){var o=e.type;void 0===o&&(o="defaultType");var c=function(e,t){var a=Object.assign({},e,{on:{}});return r.forEach(function(r){e.on&&e.on[r]&&(a.on[r]=function(){for(var a,n=[],o=arguments.length;o--;)n[o]=arguments[o];return(a=e.on)[r].apply(a,n.concat([t]))})}),a}(S=s(e,["type"]),t),u=o.toLocaleLowerCase(),p=a[u],l=null;switch(u){case"button":var d=c.autoSearchEvent,v=c.on;void 0===v&&(v={});var f=c.buttonType,h=c.text,b=c.style,g=S=s(c,["autoSearchEvent","on","buttonType","text","style"]);if(d)if(v.click){var m=v.click;v.click=function(e){m(e,t),d(t)}}else v.click=function(e){d(t)};l=n(p,{style:b,props:Object.assign({},{type:f},g),on:v},[h]);break;case"input":case"inputnumber":case"password":case"textarea":case"switch":case"slider":case"datepicker":case"rangepicker":case"monthpicker":case"weekpicker":case"timepicker":case"cascader":case"autocomplete":case"rate":var y=c.style,k=c.on;void 0===k&&(k={});var S=s(c,["style","on"]);l=n(p,{style:y,on:k,props:S});break;case"checkbox":case"radio":case"checkboxgroup":case"radiogroup":var O=c.options;void 0===O&&(O=[]);var j=c.style,F=c.on;void 0===F&&(F={});var w=S=s(c,["options","style","on"]);l=n(p,{style:j,on:F,props:Object.assign({},{options:i(O)},w)});break;case"select":case"mentions":var x=c.options;void 0===x&&(x=[]);var _=c.style,P=c.on;void 0===P&&(P={});var z=S=s(c,["options","style","on"]);l=n(p,{style:_,on:P,props:Object.assign({},z)},i(x).map(function(e){return n(p.Option,{props:{key:e.key||e.value,value:e.value}},[e.label])}));break;case"uploaddragger":case"upload":var E=c.innerHTML,D=c.style,C=c.on;void 0===C&&(C={});var T=S=s(c,["innerHTML","style","on"]);l=n(p,{style:D,on:C,props:Object.assign({},T)},[E&&E()]);break;case"radiobutton":var $=c.options;void 0===$&&($=[]);var I=c.style,M=c.on;void 0===M&&(M={});var L=S=s(c,["options","style","on"]);l=n(p.Group,{style:I,on:M,props:Object.assign({},L)},i($).map(function(e){return n(p.Button,{props:{key:e.key||e.value,value:e.value}},[e.label])}));break;case"steps":var N=c.options;void 0===N&&(N=[]);var V=c.style,A=c.on;void 0===A&&(A={});var R=S=s(c,["options","style","on"]);l=n(p,{style:V,on:A,props:Object.assign({},R)},i(N).map(function(e){return n(p.Step,{props:Object.assign({},{key:e.key||e.title},e)})}));break;default:l=n("input",{props:{placeholder:"default element"}})}return l}function u(){return{props:{layout:String,formLayout:Object,data:[Array,Function],_bindForm:Function,autoSearchEvent:Function},data:function(){return{form:this.$form.createForm(this)}},beforeMount:function(){var e=this.$props._bindForm;void 0===e&&(e=function(){}),e(this.form)},render:function(e){var t=this.$props,r=t.formLayout,a=t.layout;void 0===a&&(a="horizontal");var n=t.data;void 0===n&&(n=[]);var o=t.autoSearchEvent,i=this.form,s=i.getFieldDecorator,c=r||("horizontal"===a?{labelCol:{span:6},wrapperCol:{span:14}}:{});return e("a-form",{props:{form:this.form,layout:a,form:this.form}},[this._renderElement(e,c,i,s,o,this._transFuncToObj(n,i))])},methods:{_getFieldsValue:function(){var e=this.props.form.getFieldsValue();return o(e)},_transFuncToObj:function(e,t){return void 0===e&&(e={}),"[object Function]"===Object.prototype.toString.call(e)?e(t,this):e},_renderElement:function(e,t,r,a,n,o){var i=this;return void 0===o&&(o=[]),o.map(function(o,s){var u=o.visible;void 0===u&&(u=!0);var p=o.label,l=o.extra;void 0===l&&(l=null);var d=o.hasFeedback;void 0===d&&(d=!1);var v=o.formItemLayout;void 0===v&&(v={});var f=o.unbind,h=o.key;void 0===h&&(h="random_key_"+Math.random());var b=o.config;void 0===b&&(b={});var g=o.render,m=o.renderFix,y=o.bindSearch;void 0===y&&(y=!1);var k=o.type,S=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}(o,["visible","label","extra","hasFeedback","formItemLayout","unbind","key","config","render","renderFix","bindSearch","type"]),O=null;if(!1!==u){if("br"===k)return e("br",{key:s});if("span"===k)return e("span",{key:s,props:S},[p]);if("hidden"===k)return e("a-form-item",{style:{display:"none"},props:{key:s}},[a(h,i._transFuncToObj(b,r))(c({type:"input",hidden:!0},r,e))]);if("group"===k)O=i._renderElement(e,t,r,a,n,o.children);else if(g){var j=g(r,Form.Item)||e("input",{attrs:{placeholder:"default: render need return"}});O=!0===f?j:a(h,i._transFuncToObj(b,r))(j)}else{var F=Object.assign({},{type:k},S);y&&(F.autoSearchEvent=n);var w=c(F,r,e);O="button"===k?w:a(h,i._transFuncToObj(b,r,i))(w)}return e("a-form-item",{props:Object.assign({},{label:p,key:s,extra:l,hasFeedback:d},t,v)},[m?m(O):O])}})}}}}function p(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}function l(e){return{props:Object.assign({},e.props,{pagination:{type:[Object,Boolean],default:!0},action:Function,params:Function,extraParams:[Function,Object],pageName:String,pageSizeName:String,valueMap:Function,actionError:Function,isInit:Boolean}),data:function(){return{list:[],totalData:0,currentPage:1,pageSizeData:10}},beforeMount:function(){this._vueinit(this.$props,this.$props.isInit)},render:function(t){var r=this,a=this.$props,n=a.pagination;void 0===n&&(n=!0);a.action,a.params,a.extraParams,a.pageName,a.pageSizeName,a.valueMap,a.actionError,a.isInit;var o=p(a,["pagination","action","params","extraParams","pageName","pageSizeName","valueMap","actionError","isInit"]),i=null;if(!1===n)i=!1;else{n.total,n.current,n.pageSize;var s=n.showSizeChanger;void 0===s&&(s=!0);var c=n.onChange;void 0===c&&(c=function(){return null});var u=n.showTotal;void 0===u&&(u=function(e,t){return t[0]+"-"+t[1]+" 条, 共 "+e+" 条"});var l=n.onShowSizeChange;void 0===l&&(l=function(){return null});var d=p(n,["total","current","pageSize","showSizeChanger","onChange","showTotal","onShowSizeChange"]);i=Object.assign({},{total:this.totalData||this.$props.total||0,current:this.currentPage,pageSize:this.pageSizeData,onChange:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];(e=r)._pageChange.apply(e,t),c.apply(void 0,t)},showTotal:u,showSizeChanger:s,onShowSizeChange:function(e,t){r._pageChange(e,t),l(e,t)}},d)}return t(e,{props:Object.assign({},o,{dataSource:this.list||[],pagination:i})})},methods:{_vueinit:function(e,t){var r;void 0===t&&(t=!1);var a=e.pagination;void 0===a&&(a=!0);var n=e.dataSource,o=e.total;void 0===o&&(o=0);var i=a.current;void 0===i&&(i=1);var s=a.pageSize;void 0===s&&(s=10),this.list.splice(0)(r=this.list).push.apply(r,n),this.totalData=o,this.currentPage=i,this.pageSizeData=s,t&&this._loadData()},reset:function(e){void 0===e&&(e=!0),this._vueinit(this.$props,e)},refresh:function(){this._loadData()},_pageChange:function(e,t){void 0===e&&(e=1),void 0===t&&(t=10),this.currentPage=e,this.pageSizeData=t,this._loadData()},_loadData:function(){var e,t=this,r=this.$data,a=(r.currentPage,r.pageSizeData,this.$props),o=a.action,i=a.pageName;void 0===i&&(i="page");var s=a.pageSizeName;void 0===s&&(s="pageSize");var c=a.valueMap;void 0===c&&(c=function(e){return{status:e.status,dataSource:e.entry,total:e.totalRecordSize}});var u=a.actionError;void 0===u&&(u=function(e){return console.error(e)});var p=a.params;void 0===p&&(p=function(){return{}});var l=a.extraParams;void 0===l&&(l=function(){return{}});var d="[object Function]"===n.call(l)?l():l,v=Object.assign({},d,p(),((e={})[i]=this.currentPage,e[s]=this.pageSizeData,e));if(!o)throw new Error("need action filed");o(v).then(function(e){var r,a=c(e),n=a.dataSource,o=a.total;a.status?(t.list.splice(0)(r=t.list).push.apply(r,n),t.totalData=o):u(e.message)})}}}}var d=l(t.Table),v=l(t.List);var f,h={VueAntdSuperForm:(f={props:{type:String,search:Object,params:Function,autoSearchEvent:Function,_bindForm:Function,table:Object,formStyle:Object,tableStyle:Object},render:function(e){var t=this.$props,r=t.type;void 0===r&&(r="table");var a=t.search,n=t.autoSearchEvent,o=t._bindForm,i=t.table,s=t.formStyle;void 0===s&&(s={});var c=t.tableStyle;void 0===c&&(c={});var p=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}(t,["type","search","autoSearchEvent","_bindForm","table","formStyle","tableStyle"]);return e("div",null,[e("div",{style:Object.assign({},{background:"#fff",padding:"20px","border-radius":"5px","margin-bottom":"10px"},s)},[e(u(),{props:Object.assign({},a,{autoSearchEvent:n,_bindForm:o})})]),e("div",{style:Object.assign({},{background:"#fff",padding:"20px","border-radius":"5px","margin-bottom":"10px"},c)},[e("table"===r?d:v,{ref:"list",props:Object.assign({},i,p)})])])},methods:{reset:function(e){void 0===e&&(e=!0),this.$refs.list.reset(e)},refresh:function(){this.$refs.list.refresh()}}},{props:Object.assign({},f.props),beforeMount:function(){this.form=null},render:function(e){var t=this,r=Object.assign({},this.$props,{params:function(){return t._getSearchParams()},autoSearchEvent:function(){return t.reset()},_bindForm:function(e){t.form=e}});return e(f,{ref:"hoc",props:r})},methods:{reset:function(e){void 0===e&&(e=!0),this.$refs.hoc.reset(e)},refresh:function(){this.$refs.hoc.refresh()},_getSearchParams:function(){return o(this.form.getFieldsValue())}}}),Form:u(),List:v,Table:d};var b={install:function e(t){e.installed||(e.installed=!0,Object.keys(h).forEach(function(e){t.component(e,h[e])}))}},g=null;return"undefined"!=typeof window?g=window.Vue:"undefined"!=typeof global&&(g=global.Vue),g&&g.use(b),e.components=h,e.default=b,e}({},antDesignVue);