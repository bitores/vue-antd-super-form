var VueAntdSuperForm=function(e,t){"use strict";var r=["click","change","blur","focus","hoverChange","keyDown","select","ok","pressEnter"];var a={input:t.Input,inputnumber:t.InputNumber,textarea:t.Input.TextArea,password:t.Input.Password,cascader:t.Cascader,autocomplete:t.AutoComplete,rate:t.Rate,slider:t.Slider,switch:t.Switch,datepicker:t.DatePicker,rangepicker:t.DatePicker.RangePicker,monthpicker:t.DatePicker.MonthPicker,weekpicker:t.DatePicker.WeekPicker,timepicker:t.TimePicker,button:t.Button,select:t.Select,radio:t.Radio.Group,radiogroup:t.Radio.Group,radiobutton:t.Radio,checkbox:t.Checkbox.Group,checkboxgroup:t.Checkbox.Group,steps:t.Steps,upload:t.Upload,uploaddragger:t.Upload.Dragger},o=Object.prototype.toString,n=function(e){var t={},r={},a=Object.assign({},e);return Object.keys(a).forEach(function(e){var t=a[e];"[object Undefined]"!==o.call(t)&&""!==t&&("[object String]"==o.call(t)?""!==(t=t.trim())&&(r[e]=t):r[e]=t)}),Object.keys(r).map(function(e){e.includes(",")||(t[e]=r[e])}),t},i=function(e){if("[object Object]"===o.call(e))return Object.keys(e).map(function(t){return{label:e[t],value:t}});if("[object Array]"===o.call(e))return e;throw new Error("need obj or array")};function s(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}function c(e,t,o){var n=e.type;void 0===n&&(n="defaultType");var c=function(e,t){var a=Object.assign({},e,{on:{}});return r.forEach(function(r){e.on&&e.on[r]&&(a.on[r]=function(){for(var a,o=[],n=arguments.length;n--;)o[n]=arguments[n];return(a=e.on)[r].apply(a,o.concat([t]))})}),a}(k=s(e,["type"]),t),u=n.toLocaleLowerCase(),l=a[u],p=null;switch(u){case"button":var d=c.autoSearchEvent,v=c.on;void 0===v&&(v={});var f=c.buttonType,h=c.text,b=c.style,g=k=s(c,["autoSearchEvent","on","buttonType","text","style"]);if(d)if(v.click){var m=v.click;v.click=function(e){m(e,t),d(t)}}else v.click=function(e){d(t)};p=o(l,{style:b,props:Object.assign({},{type:f},g),on:v},[h]);break;case"input":case"inputnumber":case"password":case"textarea":case"switch":case"slider":case"datepicker":case"rangepicker":case"monthpicker":case"weekpicker":case"timepicker":case"cascader":case"autocomplete":case"rate":var y=c.style,S=c.on;void 0===S&&(S={});var k=s(c,["style","on"]);p=o(l,{style:y,on:S,props:k});break;case"checkbox":case"radio":case"checkboxgroup":case"radiogroup":var O=c.options;void 0===O&&(O=[]);var j=c.style,F=c.on;void 0===F&&(F={});var w=k=s(c,["options","style","on"]);p=o(l,{style:j,on:F,props:Object.assign({},{options:i(O)},w)});break;case"select":case"mentions":var _=c.options;void 0===_&&(_=[]);var x=c.style,P=c.on;void 0===P&&(P={});var C=k=s(c,["options","style","on"]);p=o(l,{style:x,on:P,props:Object.assign({},C)},i(_).map(function(e){return o(l.Option,{props:{key:e.key||e.value,value:e.value}},[e.label])}));break;case"uploaddragger":case"upload":var E=c.innerHTML,z=c.style,D=c.on;void 0===D&&(D={});var $=k=s(c,["innerHTML","style","on"]);p=o(l,{style:z,on:D,props:Object.assign({},$)},[E&&E()]);break;case"radiobutton":var T=c.options;void 0===T&&(T=[]);var M=c.style,V=c.on;void 0===V&&(V={});var I=k=s(c,["options","style","on"]);p=o(l.Group,{style:M,on:V,props:Object.assign({},I)},i(T).map(function(e){return o(l.Button,{props:{key:e.key||e.value,value:e.value}},[e.label])}));break;case"steps":var L=c.options;void 0===L&&(L=[]);var N=c.style,A=c.on;void 0===A&&(A={});var R=k=s(c,["options","style","on"]);p=o(l,{style:N,on:A,props:Object.assign({},R)},i(L).map(function(e){return o(l.Step,{props:Object.assign({},{key:e.key||e.title},e)})}));break;default:p=o("input",{props:{placeholder:"default element"}})}return p}var u={props:{layout:String,formLayout:Object,data:[Array,Function],_bindForm:Function,autoSearchEvent:Function},data:function(){return{form:this.$form.createForm(this)}},beforeMount:function(){var e=this.$props._bindForm;void 0===e&&(e=function(){}),e(this.form)},render:function(e){var t=this.$props,r=t.formLayout,a=t.layout;void 0===a&&(a="horizontal");var o=t.data;void 0===o&&(o=[]);var n=t.autoSearchEvent,i=this.form,s=i.getFieldDecorator,c=r||("horizontal"===a?{labelCol:{span:6},wrapperCol:{span:14}}:{});return e("a-form",{props:{form:this.form,layout:a,form:this.form}},[this._renderElement(e,c,i,s,n,this._transFuncToObj(o,i))])},methods:{_getFieldsValue:function(){var e=this.props.form.getFieldsValue();return n(e)},_transFuncToObj:function(e,t){return void 0===e&&(e={}),"[object Function]"===Object.prototype.toString.call(e)?e(t,this):e},_renderElement:function(e,t,r,a,o,n){var i=this;return void 0===n&&(n=[]),n.map(function(n,s){var u=n.visible;void 0===u&&(u=!0);var l=n.label,p=n.extra;void 0===p&&(p=null);var d=n.hasFeedback;void 0===d&&(d=!1);var v=n.formItemLayout;void 0===v&&(v={});var f=n.unbind,h=n.key;void 0===h&&(h="random_key_"+Math.random());var b=n.config;void 0===b&&(b={});var g=n.render,m=n.renderFix,y=n.bindSearch;void 0===y&&(y=!1);var S=n.type,k=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}(n,["visible","label","extra","hasFeedback","formItemLayout","unbind","key","config","render","renderFix","bindSearch","type"]),O=null;if(!1!==u){if("br"===S)return e("br",{key:s});if("span"===S)return e("span",{key:s,props:k},[l]);if("hidden"===S)return e("a-form-item",{style:{display:"none"},props:{key:s}},[a(h,i._transFuncToObj(b,r))(c({type:"input",hidden:!0},r,e))]);if("group"===S)O=i._renderElement(e,t,r,a,o,n.children);else if(g){var j=g(r,Form.Item)||e("input",{attrs:{placeholder:"default: render need return"}});O=!0===f?j:a(h,i._transFuncToObj(b,r))(j)}else{var F=Object.assign({},{type:S},k);y&&(F.autoSearchEvent=o);var w=c(F,r,e);O="button"===S?w:a(h,i._transFuncToObj(b,r,i))(w)}return e("a-form-item",{props:Object.assign({},{label:l,key:s,extra:p,hasFeedback:d},t,v)},[m?m(O):O])}})}}};function l(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}function p(e){return{props:Object.assign({},e.props,{pagination:{type:[Object,Boolean],default:!0},action:Function,params:Function,extraParams:[Function,Object],pageName:String,pageSizeName:String,valueMap:Function,actionError:Function,isInit:Boolean}),data:function(){return{list:[],totalData:0,currentPage:1,pageSizeData:10}},beforeMount:function(){this._vueinit(this.$props,this.$props.isInit)},render:function(t){var r=this,a=this.$props,o=a.pagination;void 0===o&&(o=!0);a.action,a.params,a.extraParams,a.pageName,a.pageSizeName,a.valueMap,a.actionError,a.isInit;var n=l(a,["pagination","action","params","extraParams","pageName","pageSizeName","valueMap","actionError","isInit"]),i=null;if(!1===o)i=!1;else{o.total,o.current,o.pageSize;var s=o.showSizeChanger;void 0===s&&(s=!0);var c=o.onChange;void 0===c&&(c=function(){return null});var u=o.showTotal;void 0===u&&(u=function(e,t){return t[0]+"-"+t[1]+" 条, 共 "+e+" 条"});var p=o.onShowSizeChange;void 0===p&&(p=function(){return null});var d=l(o,["total","current","pageSize","showSizeChanger","onChange","showTotal","onShowSizeChange"]);i=Object.assign({},{total:this.totalData||this.$props.total||0,current:this.currentPage,pageSize:this.pageSizeData,onChange:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];(e=r)._pageChange.apply(e,t),c.apply(void 0,t)},showTotal:u,showSizeChanger:s,onShowSizeChange:function(e,t){r._pageChange(e,t),p(e,t)}},d)}return t(e,{props:Object.assign({},n,{dataSource:this.list||[],pagination:i})})},methods:{_vueinit:function(e,t){void 0===t&&(t=!1);var r=e.pagination;void 0===r&&(r=!0);var a=e.dataSource,o=e.total;void 0===o&&(o=0);var n=r.current;void 0===n&&(n=1);var i=r.pageSize;void 0===i&&(i=10),this.list=a,this.totalData=o,this.currentPage=n,this.pageSizeData=i,t&&this._loadData()},reset:function(e){void 0===e&&(e=!0),this._vueinit(this.$props,e)},refresh:function(){this._loadData()},_pageChange:function(e,t){void 0===e&&(e=1),void 0===t&&(t=10),this.currentPage=e,this.pageSizeData=t,this._loadData()},_loadData:function(){var e,t=this,r=this.$data,a=(r.currentPage,r.pageSizeData,this.$props),n=a.action,i=a.pageName;void 0===i&&(i="page");var s=a.pageSizeName;void 0===s&&(s="pageSize");var c=a.valueMap;void 0===c&&(c=function(e){return{status:e.status,dataSource:e.entry,total:e.totalRecordSize}});var u=a.actionError;void 0===u&&(u=function(e){return console.error(e)});var l=a.params;void 0===l&&(l=function(){return{}});var p=a.extraParams;void 0===p&&(p=function(){return{}});var d="[object Function]"===o.call(p)?p():p,v=Object.assign({},d,l(),((e={})[i]=this.currentPage,e[s]=this.pageSizeData,e));if(!n)throw new Error("need action filed");n(v).then(function(e){var r=c(e),a=r.dataSource,o=r.total;r.status?(t.list=a,t.totalData=o):u(e.message)})}}}}var d=p(t.Table),v=p(t.List);var f,h=(f={props:{type:String,search:Object,params:Function,autoSearchEvent:Function,_bindForm:Function,table:Object,formStyle:Object,tableStyle:Object},render:function(e){var t=this.$props,r=t.type;void 0===r&&(r="table");var a=t.search,o=t.autoSearchEvent,n=t._bindForm,i=t.table,s=t.formStyle;void 0===s&&(s={});var c=t.tableStyle;void 0===c&&(c={});var l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}(t,["type","search","autoSearchEvent","_bindForm","table","formStyle","tableStyle"]);return e("div",null,[e("div",{style:Object.assign({},{background:"#fff",padding:"20px","border-radius":"5px","margin-bottom":"10px"},s)},[e(u,{props:Object.assign({},a,{autoSearchEvent:o,_bindForm:n})})]),e("div",{style:Object.assign({},{background:"#fff",padding:"20px","border-radius":"5px","margin-bottom":"10px"},c)},[e("table"===r?d:v,{ref:"list",props:Object.assign({},i,l)})])])},methods:{reset:function(e){void 0===e&&(e=!0),this.$refs.list.reset(e)},refresh:function(){this.$refs.list.refresh()}}},{props:Object.assign({},f.props),data:function(){return{form:null}},render:function(e){var t=this,r=Object.assign({},this.$props,{params:function(){return t._getSearchParams()},autoSearchEvent:function(){return t.reset()},_bindForm:function(e){t.form=e}});return e(f,{ref:"hoc",props:r})},methods:{reset:function(e){void 0===e&&(e=!0),this.$refs.hoc.reset(e)},refresh:function(){this.$refs.hoc.refresh()},_getSearchParams:function(){return n(this.form.getFieldsValue())}}});var b={props:Object.assign({},t.Modal.props,{footer:[Array,Function],search:[Object,Function],action:Function,extraParams:[Object,Function],actionError:Function,actionSuccess:Function}),data:function(){return{isVisible:this.$props.visible||!1,form:null}},mounted:function(){console.log(this.form)},render:function(e){var r=this,a=this.$props,n=(a.children,a.visible,a.cancel);void 0===n&&(n=function(){});var i=a.afterClose;void 0===i&&(i=function(){});var s=a.ok;void 0===s&&(s=function(e,t,r){});var c=a.footer;void 0===c&&(c=function(e,t){});var l=a.search,p=a.form;void 0===p&&(p={});var d=a.action;void 0===d&&(d=!1);a.extraParams,a.actionError,a.actionSuccess;var v=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(r[a]=e[a]);return r}(a,["children","visible","cancel","afterClose","ok","footer","search","form","action","extraParams","actionError","actionSuccess"]),f=function(){return r._onCancel(n)},h=!1!==d?this.autoHandleSubmit:function(e){s(e,r.form,function(e){return r.show(e)})};return e(t.Modal,{props:Object.assign({},{visible:this.isVisible,afterClose:function(){return r._afterClose(i)},footer:"[object Array]"===o.call(c)?c:c(f,h)},v),on:{cancel:f,ok:h}},[e(u,{props:Object.assign({},{_bindForm:function(e){r.form=e}},l)})])},methods:{show:function(e,t){void 0===e&&(e=!0),this.isVisible=e,t&&t()},_onCancel:function(e){this.show(!1,e)},_afterClose:function(e){this.form.resetFields(),e&&e()},_getSearchParams:function(){return n(this.form.getFieldsValue())},autoHandleSubmit:function(){var e=this,t=this.props,r=t.action,a=t.extraParams;void 0===a&&(a={});var n=t.actionError;void 0===n&&(n=function(e){console.log(e)});var i=t.actionSuccess;void 0===i&&(i=function(e){console.log(e)});var s=t.valueMap;void 0===s&&(s=function(e){return{status:e.status}});var c="[object Function]"===o.call(a)?a():a;r(Object.assign({},c,this._getSearchParams())).then(function(t){s(t).status?e.show(!1,function(){return i("操作成功")}):n(t.message)}).catch(function(e){n(e.message)})}}},g={VueAntdSuperForm:h,Form:u,List:v,Table:d,Modal:b};var m={install:function e(t){e.installed||(e.installed=!0,Object.keys(g).forEach(function(e){t.component(e,g[e])}))}},y=null;return"undefined"!=typeof window?y=window.Vue:"undefined"!=typeof global&&(y=global.Vue),y&&y.use(m),e.components=g,e.default=m,e}({},antDesignVue);